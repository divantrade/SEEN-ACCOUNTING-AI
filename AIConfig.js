// ==================== Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø°ÙƒÙŠ ====================
/**
 * Ù…Ù„Ù Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø°ÙƒÙŠ Ù„Ù†Ø¸Ø§Ù… SEEN Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ
 * ÙŠØ³ØªØ®Ø¯Ù… Gemini Flash Ù„Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„Ù†ØµÙˆØµ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©
 */

const AI_CONFIG = {

    // ==================== Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Gemini API ====================
    GEMINI: {
        // Ø±Ø§Ø¨Ø· API
        API_URL: 'https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent',

        // Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„
        MODEL: 'gemini-1.5-flash-latest',

        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙˆÙ„ÙŠØ¯
        GENERATION_CONFIG: {
            temperature: 0.1,           // Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ© (Ù‚ÙŠÙ… Ù…Ù†Ø®ÙØ¶Ø© = Ø£ÙƒØ«Ø± ØªØ­Ø¯ÙŠØ¯Ø§Ù‹)
            topP: 0.8,
            topK: 40,
            maxOutputTokens: 1024
        },

        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù†
        SAFETY_SETTINGS: [
            { category: 'HARM_CATEGORY_HARASSMENT', threshold: 'BLOCK_NONE' },
            { category: 'HARM_CATEGORY_HATE_SPEECH', threshold: 'BLOCK_NONE' },
            { category: 'HARM_CATEGORY_SEXUALLY_EXPLICIT', threshold: 'BLOCK_NONE' },
            { category: 'HARM_CATEGORY_DANGEROUS_CONTENT', threshold: 'BLOCK_NONE' }
        ]
    },

    // ==================== Ù…Ù„Ø§Ø­Ø¸Ø©: Ø´ÙŠØª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ====================
    // ØªÙ… ØªÙˆØ­ÙŠØ¯ Ø´ÙŠØª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† - ÙŠÙØ³ØªØ®Ø¯Ù… Ø§Ù„Ø¢Ù† CONFIG.SHEETS.BOT_USERS
    // Ù…Ø¹ Ø£Ø¹Ù…Ø¯Ø© Checkboxes Ù„Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø© (Ø¨ÙˆØª ØªÙ‚Ù„ÙŠØ¯ÙŠØŒ Ø¨ÙˆØª Ø°ÙƒÙŠØŒ Ø´ÙŠØªØŒ Ù…Ø±Ø§Ø¬Ø¹Ø©)
    // Ø§Ù†Ø¸Ø± BOT_CONFIG.BOT_USERS_COLUMNS Ù„Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯

    // ==================== Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø§Ø³ØªÙ†ØªØ§Ø¬ Ø§Ù„Ø°ÙƒÙŠ ====================
    INFERENCE_RULES: {

        // Ø§Ø³ØªÙ†ØªØ§Ø¬ Ø·Ø¨ÙŠØ¹Ø© Ø§Ù„Ø­Ø±ÙƒØ© Ù…Ù† Ø§Ù„Ø£ÙØ¹Ø§Ù„
        NATURE_KEYWORDS: {
            'Ø§Ø³ØªØ­Ù‚Ø§Ù‚': ['Ø§ØªÙÙ‚Øª', 'Ø§ØªÙÙ‚Ù†Ø§', 'ØªÙ… Ø§Ù„Ø§ØªÙØ§Ù‚', 'Ø¹Ù‚Ø¯', 'ØªØ¹Ø§Ù‚Ø¯', 'Ø·Ù„Ø¨', 'Ø·Ù„Ø¨Øª', 'Ø­Ø¬Ø²', 'Ø­Ø¬Ø²Øª', 'Ø³ÙŠØªÙ…', 'Ø³Ø£Ø¯ÙØ¹', 'Ù…Ø³ØªØ­Ù‚', 'ÙŠØ³ØªØ­Ù‚'],
            'Ø¯ÙØ¹Ø©': ['Ø¯ÙØ¹Øª', 'Ø³Ø¯Ø¯Øª', 'Ø­ÙˆÙ„Øª', 'Ø£Ø±Ø³Ù„Øª', 'ØµØ±ÙØª', 'Ø£Ø¹Ø·ÙŠØª', 'Ø³Ù„Ù…Øª', 'Ø¯ÙØ¹', 'ØªØ­ÙˆÙŠÙ„', 'Ø³Ø¯Ø§Ø¯'],
            'ØªØ­ØµÙŠÙ„': ['Ø§Ø³ØªÙ„Ù…Øª', 'Ù‚Ø¨Ø¶Øª', 'ÙˆØµÙ„Ù†ÙŠ', 'Ø­ØµÙ„Øª', 'ØªØ³Ù„Ù…Øª', 'Ø¬Ø§Ù†ÙŠ', 'ÙˆØµÙ„', 'Ø§Ø³ØªÙ„Ø§Ù…', 'ØªØ­ØµÙŠÙ„', 'Ù‚Ø¨Ø¶']
        },

        // Ø§Ø³ØªÙ†ØªØ§Ø¬ Ø§Ù„ØªØµÙ†ÙŠÙ Ù…Ù† Ù†ÙˆØ¹ Ø§Ù„Ø­Ø±ÙƒØ©
        CLASSIFICATION_RULES: {
            'Ù…ØµØ±ÙˆÙ_Ù…Ø¨Ø§Ø´Ø±': ['Ø±Ø³Ù…', 'ØªØµÙ…ÙŠÙ…', 'Ù…ÙˆÙ†ØªØ§Ø¬', 'ØªØµÙˆÙŠØ±', 'ÙƒØªØ§Ø¨Ø©', 'Ø¥Ø®Ø±Ø§Ø¬', 'ØªØ­Ø±ÙŠØ±', 'Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ', 'ØµÙˆØª', 'Ù…ÙˆØ³ÙŠÙ‚Ù‰', 'Ø¬Ø±Ø§ÙÙŠÙƒ', 'Ø£Ù†ÙŠÙ…ÙŠØ´Ù†', 'ØªØ¹Ù„ÙŠÙ‚', 'ØªØ±Ø¬Ù…Ø©', 'Ø¯Ø¨Ù„Ø¬Ø©'],
            'Ù…ØµØ±ÙˆÙ_Ø¹Ù…ÙˆÙ…ÙŠ': ['Ø¥ÙŠØ¬Ø§Ø±', 'ÙƒÙ‡Ø±Ø¨Ø§Ø¡', 'Ù…Ø§Ø¡', 'Ù†Øª', 'Ø§Ù†ØªØ±Ù†Øª', 'Ù‡Ø§ØªÙ', 'Ù…ÙˆØ¨Ø§ÙŠÙ„', 'Ù…ÙˆØ§ØµÙ„Ø§Øª', 'Ù†Ù‚Ù„', 'Ø³ÙØ±', 'ØªØ°Ø§ÙƒØ±', 'ÙÙ†Ø¯Ù‚', 'Ø¥Ù‚Ø§Ù…Ø©', 'Ø·Ø¹Ø§Ù…', 'Ø¶ÙŠØ§ÙØ©', 'Ù‚Ø±Ø·Ø§Ø³ÙŠØ©', 'ØµÙŠØ§Ù†Ø©'],
            'Ø§ÙŠØ±Ø§Ø¯': ['Ù…Ù† Ø§Ù„Ø¹Ù…ÙŠÙ„', 'Ù…Ù‚Ø§Ø¨Ù„ Ù…Ø´Ø±ÙˆØ¹', 'Ø¯ÙØ¹Ø© Ù…Ù†', 'Ø¥ÙŠØ±Ø§Ø¯', 'ÙØ§ØªÙˆØ±Ø©', 'Ù…Ø³ØªØ­Ù‚Ø§Øª', 'Ø£ØªØ¹Ø§Ø¨'],
            'ØªÙ…ÙˆÙŠÙ„': ['Ù‚Ø±Ø¶', 'Ø³Ù„ÙØ©', 'ØªÙ…ÙˆÙŠÙ„', 'Ø§Ù‚ØªØ±Ø§Ø¶', 'Ø§Ø³ØªØ¯Ø§Ù†Ø©']
        },

        // Ø§Ø³ØªÙ†ØªØ§Ø¬ Ø§Ù„Ø¹Ù…Ù„Ø©
        CURRENCY_KEYWORDS: {
            'USD': ['Ø¯ÙˆÙ„Ø§Ø±', '$', 'USD', 'Ø¯ÙˆÙ„Ø§Ø±Ø§Øª', 'Ø§Ù…Ø±ÙŠÙƒÙŠ'],
            'TRY': ['Ù„ÙŠØ±Ø©', 'TL', 'TRY', 'Ù„ÙŠØ±Ø§Øª', 'ØªØ±ÙƒÙŠ', 'ØªØ±ÙƒÙŠØ©'],
            'EGP': ['Ø¬Ù†ÙŠÙ‡', 'EGP', 'Ø¬Ù†ÙŠÙ‡Ø§Øª', 'Ù…ØµØ±ÙŠ', 'Ù…ØµØ±ÙŠØ©']
        },

        // Ø§Ø³ØªÙ†ØªØ§Ø¬ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹
        PAYMENT_METHOD_KEYWORDS: {
            'Ù†Ù‚Ø¯ÙŠ': ['ÙƒØ§Ø´', 'Ù†Ù‚Ø¯Ø§Ù‹', 'Ù†Ù‚Ø¯ÙŠ', 'cash', 'ÙŠØ¯ Ø¨ÙŠØ¯', 'Ø¨Ø§Ù„ÙŠØ¯'],
            'ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ': ['ØªØ­ÙˆÙŠÙ„', 'Ø¨Ù†Ùƒ', 'Ø­ÙˆØ§Ù„Ø©', 'transfer', 'Ø¨Ù†ÙƒÙŠ', 'Ø­Ø³Ø§Ø¨'],
            'Ø¨Ø·Ø§Ù‚Ø©': ['Ø¨Ø·Ø§Ù‚Ø©', 'ÙÙŠØ²Ø§', 'ÙƒØ§Ø±Øª', 'visa', 'card', 'Ù…Ø§Ø³ØªØ±']
        },

        // Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
        DEFAULTS: {
            CURRENCY: 'USD',
            PAYMENT_METHOD: 'ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ',
            PAYMENT_TERM: 'ÙÙˆØ±ÙŠ'
        }
    },

    // ==================== Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ù„Ø²Ø§Ù…ÙŠØ© ====================
    REQUIRED_FIELDS: {
        // Ø­Ù‚ÙˆÙ„ Ø¥Ù„Ø²Ø§Ù…ÙŠØ© Ù„ÙƒÙ„ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø­Ø±ÙƒØ§Øª
        ALWAYS: ['amount', 'party'],

        // Ø­Ù‚ÙˆÙ„ Ø¥Ù„Ø²Ø§Ù…ÙŠØ© Ø­Ø³Ø¨ Ø§Ù„ØªØµÙ†ÙŠÙ
        BY_CLASSIFICATION: {
            'Ù…ØµØ±ÙˆÙØ§Øª Ù…Ø¨Ø§Ø´Ø±Ø©': ['project'],
            'Ø§ÙŠØ±Ø§Ø¯': ['project'],
            'Ù…ØµØ±ÙˆÙØ§Øª Ø¹Ù…ÙˆÙ…ÙŠØ©': [],
            'ØªÙ…ÙˆÙŠÙ„ Ø·ÙˆÙŠÙ„ Ø§Ù„Ø£Ø¬Ù„': [],
            'Ø³Ù„ÙØ© Ù‚ØµÙŠØ±Ø©': []
        }
    },

    // ==================== Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ù„Ù„Ø¨ÙˆØª Ø§Ù„Ø°ÙƒÙŠ ====================
    AI_CONVERSATION_STATES: {
        IDLE: 'ai_idle',
        WAITING_MISSING_FIELD: 'ai_waiting_missing_field',
        WAITING_PROJECT_SELECTION: 'ai_waiting_project',
        WAITING_PARTY_SELECTION: 'ai_waiting_party',
        WAITING_CONFIRMATION: 'ai_waiting_confirmation',
        WAITING_EDIT: 'ai_waiting_edit'
    },

    // ==================== Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ====================
    AI_MESSAGES: {
        WELCOME: `
ğŸ¤– *Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø°ÙƒÙŠ Ù„Ù†Ø¸Ø§Ù… SEEN*

Ø£Ù†Ø§ Ø£ÙÙ‡Ù… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©! ÙÙ‚Ø· Ø£Ø®Ø¨Ø±Ù†ÙŠ Ø¨Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙˆØ³Ø£ÙÙ‡Ù…Ù‡Ø§.

*Ø£Ù…Ø«Ù„Ø©:*
â€¢ "Ø§ØªÙÙ‚Øª Ù…Ø¹ Ø£Ø­Ù…Ø¯ Ø¹Ù„Ù‰ Ø±Ø³Ù… ÙÙŠÙ„Ù… X Ø¨Ù€ 400 Ø¯ÙˆÙ„Ø§Ø±"
â€¢ "Ø¯ÙØ¹Øª 200 Ø¯ÙˆÙ„Ø§Ø± Ù„Ù…Ø­Ù…Ø¯ Ø¥ÙŠØ¬Ø§Ø± Ø§Ù„Ù…ÙƒØªØ¨"
â€¢ "Ø§Ø³ØªÙ„Ù…Øª 1000 Ø¯ÙˆÙ„Ø§Ø± Ù…Ù† Ø§Ù„Ø¹Ù…ÙŠÙ„ Ù…Ù‚Ø§Ø¨Ù„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹"

ğŸ“ *ÙÙ‚Ø· Ø§ÙƒØªØ¨ Ø§Ù„Ø­Ø±ÙƒØ© Ø¨Ø£Ø³Ù„ÙˆØ¨Ùƒ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ!*
        `,

        ANALYZING: 'ğŸ”„ *Ø¬Ø§Ø±ÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø­Ø±ÙƒØ©...*',

        ASK_PROJECT: 'ğŸ¬ *Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ØŸ*\n\nØ§Ø®ØªØ± Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø£Ùˆ Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹:',
        ASK_PARTY: 'ğŸ‘¤ *Ù…Ù† Ù‡Ùˆ Ø§Ù„Ø·Ø±Ù (Ø§Ù„Ù…ÙˆØ±Ø¯/Ø§Ù„Ø¹Ù…ÙŠÙ„)ØŸ*\n\nØ§Ø®ØªØ± Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø£Ùˆ Ø§ÙƒØªØ¨ Ø§Ù„Ø§Ø³Ù…:',
        ASK_AMOUNT: 'ğŸ’° *Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù…Ø¨Ù„ØºØŸ*\n\nØ§ÙƒØªØ¨ Ø§Ù„Ù…Ø¨Ù„Øº (Ù…Ø«Ø§Ù„: 500 Ø¯ÙˆÙ„Ø§Ø±)',

        PARTY_NOT_FOUND: `
âš ï¸ *Ù„Ù… Ø£Ø¬Ø¯ "{party_name}"*

Ù‡Ù„ ØªÙ‚ØµØ¯ Ø£Ø­Ø¯ Ù‡Ø¤Ù„Ø§Ø¡ØŸ
{suggestions}

Ø£Ùˆ Ø§Ø®ØªØ±: â• Ø¥Ø¶Ø§ÙØ© ÙƒØ·Ø±Ù Ø¬Ø¯ÙŠØ¯
        `,

        CONFIRMATION_HEADER: 'ğŸ“‹ *ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø±ÙƒØ©*\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”',

        SUCCESS: 'âœ… *ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø±ÙƒØ© Ø¨Ù†Ø¬Ø§Ø­!*\n\nğŸ“Œ Ø±Ù‚Ù… Ø§Ù„Ø­Ø±ÙƒØ©: #{id}\nâ³ ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©',
        CANCELLED: 'âŒ *ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©*',

        ERROR_PARSE: 'âŒ *Ù„Ù… Ø£ØªÙ…ÙƒÙ† Ù…Ù† ÙÙ‡Ù… Ø§Ù„Ø­Ø±ÙƒØ©*\n\nØ­Ø§ÙˆÙ„ ØµÙŠØ§ØºØªÙ‡Ø§ Ø¨Ø´ÙƒÙ„ Ø£ÙˆØ¶Ø­ØŒ Ù…Ø«Ø§Ù„:\n"Ø§ØªÙÙ‚Øª Ù…Ø¹ Ø£Ø­Ù…Ø¯ Ø¹Ù„Ù‰ Ø±Ø³Ù… ÙÙŠÙ„Ù… X Ø¨Ù€ 400 Ø¯ÙˆÙ„Ø§Ø±"',
        ERROR_API: 'âŒ *Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„*\n\nÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰',

        UNAUTHORIZED: 'â›” *Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø£Ù†Øª ØºÙŠØ± Ù…ØµØ±Ø­ Ù„Ùƒ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø¨ÙˆØª*\n\nØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©.',

        HELP: `
ğŸ¤– *Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø°ÙƒÙŠ*
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

*ÙƒÙŠÙ Ø£Ø³ØªØ®Ø¯Ù…Ù‡ØŸ*
ÙÙ‚Ø· Ø§ÙƒØªØ¨ Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø¨Ù„ØºØªÙƒ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©!

*Ø£Ù…Ø«Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø±ÙƒØ§Øª:*

ğŸ“¤ *Ø§Ø³ØªØ­Ù‚Ø§Ù‚ Ù…ØµØ±ÙˆÙ:*
"Ø§ØªÙÙ‚Øª Ù…Ø¹ Ø£Ø­Ù…Ø¯ Ù†Ø§ÙŠÙ„ Ø¹Ù„Ù‰ Ø±Ø³Ù… ÙÙŠÙ„Ù… Ø¨Ù„ ÙƒÙ„Ù†ØªÙˆÙ† Ø¨Ù€ 400 Ø¯ÙˆÙ„Ø§Ø± ÙŠÙˆÙ… 1/2/2025"

ğŸ’¸ *Ø¯ÙØ¹Ø© Ù…ØµØ±ÙˆÙ:*
"Ø¯ÙØ¹Øª Ù„Ø£Ø­Ù…Ø¯ 500 Ø¯ÙˆÙ„Ø§Ø± Ø±Ø³ÙˆÙ… Ø±Ø³Ù…"

ğŸ“¥ *Ø¥ÙŠØ±Ø§Ø¯:*
"Ø§Ø³ØªÙ„Ù…Øª 1000 Ø¯ÙˆÙ„Ø§Ø± Ù…Ù† Ù‚Ù†Ø§Ø© Ø§Ù„Ø¬Ø²ÙŠØ±Ø© Ù…Ù‚Ø§Ø¨Ù„ ÙÙŠÙ„Ù… X"

ğŸ¦ *ØªÙ…ÙˆÙŠÙ„:*
"Ø§Ø³ØªÙ„Ù…Øª Ø³Ù„ÙØ© 5000 Ø¯ÙˆÙ„Ø§Ø± Ù…Ù† Ù…Ø­Ù…Ø¯"

*Ù…Ù„Ø§Ø­Ø¸Ø§Øª:*
â€¢ Ø£Ø°ÙƒØ± Ø§Ù„Ù…Ø¨Ù„Øº ÙˆØ§Ù„Ø¹Ù…Ù„Ø© (Ø¯ÙˆÙ„Ø§Ø±/Ù„ÙŠØ±Ø©/Ø¬Ù†ÙŠÙ‡)
â€¢ Ø£Ø°ÙƒØ± Ø§Ø³Ù… Ø§Ù„Ø·Ø±Ù (Ø§Ù„Ù…ÙˆØ±Ø¯/Ø§Ù„Ø¹Ù…ÙŠÙ„/Ø§Ù„Ù…Ù…ÙˆÙ„)
â€¢ Ø£Ø°ÙƒØ± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¥Ù† ÙƒØ§Ù† Ù…ØµØ±ÙˆÙ Ù…Ø¨Ø§Ø´Ø±
â€¢ ÙŠÙ…ÙƒÙ†Ùƒ Ø°ÙƒØ± Ø§Ù„ØªØ§Ø±ÙŠØ® Ø£Ùˆ Ø³ÙŠÙƒÙˆÙ† Ø§Ù„ÙŠÙˆÙ… Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹
        `
    },

    // ==================== Ù„ÙˆØ­Ø§Øª Ø§Ù„Ù…ÙØ§ØªÙŠØ­ ====================
    AI_KEYBOARDS: {
        // ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø±ÙƒØ©
        CONFIRMATION: {
            inline_keyboard: [
                [
                    { text: 'âœ… ØªØ£ÙƒÙŠØ¯', callback_data: 'ai_confirm' },
                    { text: 'âœï¸ ØªØ¹Ø¯ÙŠÙ„', callback_data: 'ai_edit' },
                    { text: 'âŒ Ø¥Ù„ØºØ§Ø¡', callback_data: 'ai_cancel' }
                ]
            ]
        },

        // Ø¥Ø¶Ø§ÙØ© Ø·Ø±Ù Ø¬Ø¯ÙŠØ¯
        ADD_NEW_PARTY: {
            inline_keyboard: [
                [
                    { text: 'â• Ø¥Ø¶Ø§ÙØ© ÙƒØ·Ø±Ù Ø¬Ø¯ÙŠØ¯', callback_data: 'ai_add_party' }
                ],
                [
                    { text: 'âŒ Ø¥Ù„ØºØ§Ø¡', callback_data: 'ai_cancel' }
                ]
            ]
        },

        // Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ø·Ø±Ù Ø§Ù„Ø¬Ø¯ÙŠØ¯
        NEW_PARTY_TYPE: {
            inline_keyboard: [
                [
                    { text: 'ğŸ­ Ù…ÙˆØ±Ø¯', callback_data: 'ai_partytype_Ù…ÙˆØ±Ø¯' },
                    { text: 'ğŸ‘¤ Ø¹Ù…ÙŠÙ„', callback_data: 'ai_partytype_Ø¹Ù…ÙŠÙ„' },
                    { text: 'ğŸ’¼ Ù…Ù…ÙˆÙ„', callback_data: 'ai_partytype_Ù…Ù…ÙˆÙ„' }
                ],
                [
                    { text: 'âŒ Ø¥Ù„ØºØ§Ø¡', callback_data: 'ai_cancel' }
                ]
            ]
        },

        // Ø­Ù‚ÙˆÙ„ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
        EDIT_FIELDS: {
            inline_keyboard: [
                [
                    { text: 'ğŸ“¤ Ø·Ø¨ÙŠØ¹Ø© Ø§Ù„Ø­Ø±ÙƒØ©', callback_data: 'ai_edit_nature' },
                    { text: 'ğŸ“Š Ø§Ù„ØªØµÙ†ÙŠÙ', callback_data: 'ai_edit_classification' }
                ],
                [
                    { text: 'ğŸ¬ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹', callback_data: 'ai_edit_project' },
                    { text: 'ğŸ“ Ø§Ù„Ø¨Ù†Ø¯', callback_data: 'ai_edit_item' }
                ],
                [
                    { text: 'ğŸ‘¤ Ø§Ù„Ø·Ø±Ù', callback_data: 'ai_edit_party' },
                    { text: 'ğŸ’° Ø§Ù„Ù…Ø¨Ù„Øº', callback_data: 'ai_edit_amount' }
                ],
                [
                    { text: 'ğŸ’± Ø§Ù„Ø¹Ù…Ù„Ø©', callback_data: 'ai_edit_currency' },
                    { text: 'ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®', callback_data: 'ai_edit_date' }
                ],
                [
                    { text: 'ğŸ“ Ø§Ù„ØªÙØ§ØµÙŠÙ„', callback_data: 'ai_edit_details' }
                ],
                [
                    { text: 'âœ… ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„', callback_data: 'ai_edit_done' },
                    { text: 'âŒ Ø¥Ù„ØºØ§Ø¡', callback_data: 'ai_cancel' }
                ]
            ]
        }
    },

    // ==================== System Prompt Ù„Ù€ Gemini ====================
    SYSTEM_PROMPT: `Ø£Ù†Øª Ù…Ø³Ø§Ø¹Ø¯ Ù…Ø­Ø§Ø³Ø¨ÙŠ Ø°ÙƒÙŠ Ù„Ù†Ø¸Ø§Ù… SEEN. Ù…Ù‡Ù…ØªÙƒ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ø³ØªØ®Ø±Ø§Ø¬ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©.

## Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©:
1. **Ø§Ø³ØªØ­Ù‚Ø§Ù‚ Ù…ØµØ±ÙˆÙ**: Ø§ØªÙØ§Ù‚ Ø¹Ù„Ù‰ Ø¯ÙØ¹ Ù…Ø¨Ù„Øº Ù…Ø³ØªÙ‚Ø¨Ù„Ø§Ù‹ (Ø§Ù„Ø£ÙØ¹Ø§Ù„: Ø§ØªÙÙ‚ØªØŒ Ø§ØªÙÙ‚Ù†Ø§ØŒ ØªÙ… Ø§Ù„Ø§ØªÙØ§Ù‚ØŒ Ø¹Ù‚Ø¯ØŒ Ø·Ù„Ø¨)
2. **Ø¯ÙØ¹Ø© Ù…ØµØ±ÙˆÙ**: Ø¯ÙØ¹ ÙØ¹Ù„ÙŠ Ù„Ù…Ø¨Ù„Øº (Ø§Ù„Ø£ÙØ¹Ø§Ù„: Ø¯ÙØ¹ØªØŒ Ø³Ø¯Ø¯ØªØŒ Ø­ÙˆÙ„ØªØŒ Ø£Ø±Ø³Ù„ØªØŒ ØµØ±ÙØª)
3. **Ø§Ø³ØªØ­Ù‚Ø§Ù‚ Ø¥ÙŠØ±Ø§Ø¯**: Ø§ØªÙØ§Ù‚ Ø¹Ù„Ù‰ Ø§Ø³ØªÙ„Ø§Ù… Ù…Ø¨Ù„Øº Ù…Ø³ØªÙ‚Ø¨Ù„Ø§Ù‹
4. **ØªØ­ØµÙŠÙ„ Ø¥ÙŠØ±Ø§Ø¯**: Ø§Ø³ØªÙ„Ø§Ù… ÙØ¹Ù„ÙŠ Ù„Ù…Ø¨Ù„Øº (Ø§Ù„Ø£ÙØ¹Ø§Ù„: Ø§Ø³ØªÙ„Ù…ØªØŒ Ù‚Ø¨Ø¶ØªØŒ ÙˆØµÙ„Ù†ÙŠØŒ Ø­ØµÙ„Øª)
5. **ØªÙ…ÙˆÙŠÙ„**: Ø§Ø³ØªÙ„Ø§Ù… Ù‚Ø±Ø¶ Ø£Ùˆ Ø³Ù„ÙØ©
6. **Ø³Ø¯Ø§Ø¯ ØªÙ…ÙˆÙŠÙ„**: Ø³Ø¯Ø§Ø¯ Ù‚Ø±Ø¶ Ø£Ùˆ Ø³Ù„ÙØ©

## Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª:
- **Ù…ØµØ±ÙˆÙØ§Øª Ù…Ø¨Ø§Ø´Ø±Ø©**: Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù…Ø´Ø±ÙˆØ¹ (Ø±Ø³Ù…ØŒ ØªØµÙ…ÙŠÙ…ØŒ Ù…ÙˆÙ†ØªØ§Ø¬ØŒ ØªØµÙˆÙŠØ±ØŒ Ø¥Ø®Ø±Ø§Ø¬ØŒ Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆØŒ ØµÙˆØªØŒ Ù…ÙˆØ³ÙŠÙ‚Ù‰)
- **Ù…ØµØ±ÙˆÙØ§Øª Ø¹Ù…ÙˆÙ…ÙŠØ©**: ØºÙŠØ± Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù…Ø´Ø±ÙˆØ¹ (Ø¥ÙŠØ¬Ø§Ø±ØŒ ÙƒÙ‡Ø±Ø¨Ø§Ø¡ØŒ Ù…Ø§Ø¡ØŒ Ù†ØªØŒ Ù…ÙˆØ§ØµÙ„Ø§ØªØŒ Ø³ÙØ±)
- **Ø¥ÙŠØ±Ø§Ø¯**: Ø¯Ø®Ù„ Ù…Ù† Ø¹Ù…ÙŠÙ„ Ù…Ù‚Ø§Ø¨Ù„ Ù…Ø´Ø±ÙˆØ¹
- **ØªÙ…ÙˆÙŠÙ„ Ø·ÙˆÙŠÙ„ Ø§Ù„Ø£Ø¬Ù„**: Ù‚Ø±ÙˆØ¶ ÙƒØ¨ÙŠØ±Ø©
- **Ø³Ù„ÙØ© Ù‚ØµÙŠØ±Ø©**: Ø³Ù„Ù ØµØºÙŠØ±Ø© Ù…Ø¤Ù‚ØªØ©

## Ø§Ù„Ø¹Ù…Ù„Ø§Øª:
- USD (Ø¯ÙˆÙ„Ø§Ø±ØŒ $ØŒ Ø¯ÙˆÙ„Ø§Ø±Ø§ØªØŒ Ø£Ù…Ø±ÙŠÙƒÙŠ)
- TRY (Ù„ÙŠØ±Ø©ØŒ TLØŒ Ù„ÙŠØ±Ø§ØªØŒ ØªØ±ÙƒÙŠ)
- EGP (Ø¬Ù†ÙŠÙ‡ØŒ Ø¬Ù†ÙŠÙ‡Ø§ØªØŒ Ù…ØµØ±ÙŠ)
- Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ: USD

## Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹:
- Ù†Ù‚Ø¯ÙŠ (ÙƒØ§Ø´ØŒ Ù†Ù‚Ø¯Ø§Ù‹ØŒ ÙŠØ¯ Ø¨ÙŠØ¯)
- ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ (ØªØ­ÙˆÙŠÙ„ØŒ Ø¨Ù†ÙƒØŒ Ø­ÙˆØ§Ù„Ø©)
- Ø¨Ø·Ø§Ù‚Ø© (ÙÙŠØ²Ø§ØŒ ÙƒØ§Ø±Øª)
- Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ: ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ

## ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªØ§Ø±ÙŠØ®:
- Ø¥Ø°Ø§ Ø°ÙÙƒØ± ØªØ§Ø±ÙŠØ®: Ø­ÙˆÙ‘Ù„Ù‡ Ù„ØµÙŠØºØ© YYYY-MM-DD
- Ø¥Ø°Ø§ Ù„Ù… ÙŠÙØ°ÙƒØ±: Ø§Ø³ØªØ®Ø¯Ù… "TODAY"

## Ø§Ù„Ù…Ø®Ø±Ø¬Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:
Ø£Ø±Ø¬Ø¹ JSON ÙÙ‚Ø· Ø¨Ø¯ÙˆÙ† Ø£ÙŠ Ù†Øµ Ø¥Ø¶Ø§ÙÙŠ:
{
  "success": true,
  "nature": "Ø§Ø³ØªØ­Ù‚Ø§Ù‚ Ù…ØµØ±ÙˆÙ|Ø¯ÙØ¹Ø© Ù…ØµØ±ÙˆÙ|Ø§Ø³ØªØ­Ù‚Ø§Ù‚ Ø¥ÙŠØ±Ø§Ø¯|ØªØ­ØµÙŠÙ„ Ø¥ÙŠØ±Ø§Ø¯|ØªÙ…ÙˆÙŠÙ„|Ø³Ø¯Ø§Ø¯ ØªÙ…ÙˆÙŠÙ„",
  "classification": "Ù…ØµØ±ÙˆÙØ§Øª Ù…Ø¨Ø§Ø´Ø±Ø©|Ù…ØµØ±ÙˆÙØ§Øª Ø¹Ù…ÙˆÙ…ÙŠØ©|Ø§ÙŠØ±Ø§Ø¯|ØªÙ…ÙˆÙŠÙ„ Ø·ÙˆÙŠÙ„ Ø§Ù„Ø£Ø¬Ù„|Ø³Ù„ÙØ© Ù‚ØµÙŠØ±Ø©",
  "project": "Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø£Ùˆ null",
  "item": "Ø§Ù„Ø¨Ù†Ø¯ Ø§Ù„Ù…Ø³ØªÙ†ØªØ¬ (Ø±Ø³ÙˆÙ… ÙÙ†ÙŠØ©ØŒ Ø¥ÙŠØ¬Ø§Ø±ØŒ Ø¥Ù„Ø®)",
  "party": "Ø§Ø³Ù… Ø§Ù„Ø·Ø±Ù",
  "amount": 123.45,
  "currency": "USD|TRY|EGP",
  "payment_method": "Ù†Ù‚Ø¯ÙŠ|ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ|Ø¨Ø·Ø§Ù‚Ø©",
  "due_date": "YYYY-MM-DD Ø£Ùˆ TODAY",
  "details": "Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ù…Ù† Ø§Ù„Ù†Øµ Ø§Ù„Ø£ØµÙ„ÙŠ",
  "missing_fields": ["Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù†Ø§Ù‚ØµØ© Ø§Ù„Ø¥Ù„Ø²Ø§Ù…ÙŠØ©"],
  "confidence": 0.95
}

Ø¥Ø°Ø§ Ù„Ù… ØªØªÙ…ÙƒÙ† Ù…Ù† ÙÙ‡Ù… Ø§Ù„Ù†Øµ:
{
  "success": false,
  "error": "Ø³Ø¨Ø¨ Ø¹Ø¯Ù… Ø§Ù„ÙÙ‡Ù…",
  "suggestion": "Ø§Ù‚ØªØ±Ø§Ø­ Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØµÙŠØ§ØºØ©"
}`
};


// ==================== Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ====================

/**
 * Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙˆÙƒÙ† Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø°ÙƒÙŠ Ù…Ù† Properties
 */
function getAIBotToken() {
    const token = PropertiesService.getScriptProperties().getProperty('AI_BOT_TOKEN');
    if (!token) {
        throw new Error('Ù„Ù… ÙŠØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ ØªÙˆÙƒÙ† Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø°ÙƒÙŠ Ø¨Ø¹Ø¯! Ø§Ø³ØªØ®Ø¯Ù… setAIBotToken(token)');
    }
    return token;
}

/**
 * Ø­ÙØ¸ ØªÙˆÙƒÙ† Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø°ÙƒÙŠ
 */
function setAIBotToken(token) {
    PropertiesService.getScriptProperties().setProperty('AI_BOT_TOKEN', token);
    Logger.log('ØªÙ… Ø­ÙØ¸ ØªÙˆÙƒÙ† Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø°ÙƒÙŠ Ø¨Ù†Ø¬Ø§Ø­');
}

/**
 * Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…ÙØªØ§Ø­ Gemini API Ù…Ù† Properties
 */
function getGeminiApiKey() {
    const key = PropertiesService.getScriptProperties().getProperty('GEMINI_API_KEY');
    if (!key) {
        throw new Error('Ù„Ù… ÙŠØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ù…ÙØªØ§Ø­ Gemini API Ø¨Ø¹Ø¯! Ø§Ø³ØªØ®Ø¯Ù… setGeminiApiKey(key)');
    }
    return key;
}

/**
 * Ø­ÙØ¸ Ù…ÙØªØ§Ø­ Gemini API
 */
function setGeminiApiKey(key) {
    PropertiesService.getScriptProperties().setProperty('GEMINI_API_KEY', key);
    Logger.log('ØªÙ… Ø­ÙØ¸ Ù…ÙØªØ§Ø­ Gemini API Ø¨Ù†Ø¬Ø§Ø­');
}

/**
 * Ø¥Ø¹Ø¯Ø§Ø¯ ÙƒÙ„Ø§ Ø§Ù„Ù…ÙØªØ§Ø­ÙŠÙ† Ù…Ø¹Ø§Ù‹
 */
function setupAIBotCredentials(botToken, geminiKey) {
    setAIBotToken(botToken);
    setGeminiApiKey(geminiKey);
    Logger.log('ØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø°ÙƒÙŠ Ø¨Ù†Ø¬Ø§Ø­!');
    Logger.log('ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø°ÙƒÙŠ');
}

/**
 * Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø°ÙƒÙŠ - Ø´ØºÙ‘Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·
 * Ø«Ù… Ø§Ø­Ø°ÙÙ‡Ø§ Ø¨Ø¹Ø¯ Ø§Ù„ØªØ´ØºÙŠÙ„ Ù„Ù„Ø£Ù…Ø§Ù†
 */
function setupMyAIBot() {
    // âš ï¸ Ù‡Ø§Ù…: Ù„Ø§ ØªÙ‚Ù… Ø£Ø¨Ø¯Ø§Ù‹ Ø¨ÙˆØ¶Ø¹ Ø§Ù„Ù…ÙØ§ØªÙŠØ­ Ù‡Ù†Ø§ Ù…Ø¨Ø§Ø´Ø±Ø© ÙˆØ­ÙØ¸Ù‡Ø§ ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ (Hardcoding)
    // Ù‡Ø°Ø§ Ù‡Ùˆ Ø³Ø¨Ø¨ ØªØ³Ø±ÙŠØ¨ Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø³Ø§Ø¨Ù‚.
    // Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø°Ù„ÙƒØŒ Ø§Ø³ØªØ®Ø¯Ù…: File -> Project Properties -> Script Properties
    // Ø£Ùˆ Ø´ØºÙ‘Ù„ Ø§Ù„Ø¯Ø§Ù„Ø© setupAIBotCredentials Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ù…Ø¹ Ù…ÙØ§ØªÙŠØ­Ùƒ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø«Ù… Ø§Ø­Ø°ÙÙ‡Ø§.

    Logger.log('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø³ØªØ®Ø¯Ø§Ù… setupAIBotCredentials(BOT_TOKEN, API_KEY) Ù…Ø¹ Ù…ÙØ§ØªÙŠØ­Ùƒ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù…Ø¨Ø§Ø´Ø±Ø©');
}

/**
 * Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…ÙØ§ØªÙŠØ­
 */
function checkAIBotSetup() {
    const result = {
        botToken: false,
        geminiKey: false,
        ready: false
    };

    try {
        getAIBotToken();
        result.botToken = true;
    } catch (e) {
        Logger.log('ØªÙˆÙƒÙ† Ø§Ù„Ø¨ÙˆØª: ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');
    }

    try {
        getGeminiApiKey();
        result.geminiKey = true;
    } catch (e) {
        Logger.log('Ù…ÙØªØ§Ø­ Gemini: ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');
    }

    result.ready = result.botToken && result.geminiKey;

    if (result.ready) {
        Logger.log('Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø°ÙƒÙŠ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¹Ù…Ù„!');
    } else {
        Logger.log('Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø°ÙƒÙŠ ØºÙŠØ± Ø¬Ø§Ù‡Ø². Ø§Ø³ØªØ®Ø¯Ù… setupAIBotCredentials(botToken, geminiKey)');
    }

    return result;
}

/**
 * Ø­Ø°Ù Ø§Ù„Ù€ Webhook Ù…Ù† Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø°ÙƒÙŠ
 * Ø´ØºÙ‘Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø¨ÙˆØª Ø¢Ø®Ø± ÙŠØ³ØªÙ‚Ø¨Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
 */
function deleteAIBotWebhook() {
    try {
        const token = getAIBotToken();

        // Ø£ÙˆÙ„Ø§Ù‹: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ù€ Webhook Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        const infoUrl = `https://api.telegram.org/bot${token}/getWebhookInfo`;
        const infoResponse = UrlFetchApp.fetch(infoUrl);
        const infoResult = JSON.parse(infoResponse.getContentText());

        Logger.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
        Logger.log('=== Ø­Ø§Ù„Ø© Ø§Ù„Ù€ Webhook Ø§Ù„Ø­Ø§Ù„ÙŠØ© ===');
        Logger.log(JSON.stringify(infoResult, null, 2));

        if (infoResult.result && infoResult.result.url) {
            Logger.log('âš ï¸ ÙŠÙˆØ¬Ø¯ Webhook Ù…Ø³Ø¬Ù„: ' + infoResult.result.url);
        } else {
            Logger.log('âœ… Ù„Ø§ ÙŠÙˆØ¬Ø¯ Webhook Ù…Ø³Ø¬Ù„');
        }

        // Ø«Ø§Ù†ÙŠØ§Ù‹: Ø­Ø°Ù Ø§Ù„Ù€ Webhook
        const deleteUrl = `https://api.telegram.org/bot${token}/deleteWebhook?drop_pending_updates=true`;
        const deleteResponse = UrlFetchApp.fetch(deleteUrl);
        const deleteResult = JSON.parse(deleteResponse.getContentText());

        Logger.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
        Logger.log('=== Ù†ØªÙŠØ¬Ø© Ø­Ø°Ù Ø§Ù„Ù€ Webhook ===');
        Logger.log(JSON.stringify(deleteResult, null, 2));

        if (deleteResult.ok) {
            Logger.log('âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„Ù€ Webhook Ø¨Ù†Ø¬Ø§Ø­!');
            Logger.log('Ø§Ù„Ø¢Ù† Ø³ÙŠØ³ØªÙ‚Ø¨Ù„ Google Apps Script Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø¹Ø¨Ø± Long Polling');
        } else {
            Logger.log('âŒ ÙØ´Ù„ Ø­Ø°Ù Ø§Ù„Ù€ Webhook');
        }

        return deleteResult;

    } catch (error) {
        Logger.log('âŒ Ø®Ø·Ø£: ' + error.message);
        return { ok: false, error: error.message };
    }
}
